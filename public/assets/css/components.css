/* ===============================
   HEADER
=============================== */
/* ===============================
   TITRES DE PAGE
=============================== */
/* h1 */
.page-title {
    font-family: "Playfair Display", serif;
    font-size: 36px;
    font-weight: 400;
    line-height: 1.2;
    margin: 0;
}

/* Titre non visible pour l'accessibilité */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* ==================================================
   GENERIC – BACK LINK
   ================================================== */

.link-back {
    display: inline-block;
    margin-bottom: 8px;
    font-size: 14px;
    color: #6B6B6B;
    text-decoration: underline;
}

.link-back:hover {
    color: #006D41;
    text-decoration: underline;
}

/* ===============================
   TITRES – SECTIONS
=============================== */
/* h2 */
.section-title {
    font-family: "Playfair Display", serif;
    font-size: 32px;
    font-weight: 400;
    line-height: 1.2;
    margin: 0;
}

/* h2 - plus petit */
.section-title--small {
    font-size: 12px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

/* ==================================================
   COMPONENT – PROFILE CARD 
   ================================================== */

.profile-card {
    background: #FFFFFF;
    border-radius: 24px;
    padding: 40px 32px;
    box-shadow: 0 8px 40px rgba(0,0,0,0.06);
}

.profile-avatar {
    display: flex;
    justify-content: center;
    margin-bottom: 24px;
}

.profile-avatar .avatar {
    width: 144px;
    height: 144px;
    border-radius: 50%;
    overflow: hidden;
    background-color: #eaeaea;
}

.profile-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 35%;
    display: block;
}

.profile-separator {
    border: 0;
    height: 1px;
    background: rgba(0,0,0,0.08);
    margin: 24px 0 32px;
}

.profile-name {
    font-family: "Playfair Display", serif;
    font-size: 34px;
    font-weight: 400;
    text-align: center;
    margin: 0 0 12px;
}

.profile-since {
    text-align: center;
    color: #9A9A9A;
    margin-bottom: 28px;
}

.profile-library {
    text-align: center;
    margin-bottom: 28px;
}

.profile-library-label {
    font-size: 11px;
    letter-spacing: 0.12em;
    font-weight: 600;
    margin-bottom: 8px;
}

.profile-library-meta {
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.profile-library-icon {
    width: 14px;
    height: 14px;
}

.profile-library-count {
    font-size: 14px;
    color: #2C2C2C;
}

.profile-action {
    margin-top: 28px;
}

/* ==================================================
   FILE INPUT (CUSTOM BUTTON)
   ================================================== */

.form-file-input {
    /* Retire l’élément du flux visuel */
    position: absolute;
    /* Le rend microscopique */
    width: 1px;
    height: 1px;
    margin: -1px;
    /* Empêche tout débordement */
    overflow: hidden;
    /* Coupe TOUT ce qui pourrait s’afficher */
    clip: rect(0 0 0 0);        /* legacy */
    clip-path: inset(50%);     /* moderne */
}

/* ==================================================
   COMPONENTS – BOOK CARD
   ================================================== */
.books-grid {
    display: grid;
    grid-template-columns: repeat(4, auto);
    justify-content: center;
    gap: 32px;
}

/* Carte livre */
.book-card {
    background-color: #ffffff;
    border-radius: 12px;
    overflow: hidden;
    text-align: left;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.book-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
}

/* Image couverture */
.book-card img {
    width: 100%;
    height: auto;
    display: block;
    background-color: #f5f5f5;
}

/* Corps de la carte */
.book-card-body {
    padding: 16px;
}

/* Titre */
.book-card-body h3 {
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 600;
    margin: 0 0 4px;
}

/* Auteur */
.book-author {
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    color: #6B6B6B;
    margin: 0 0 12px;
}

/* Propriétaire */
.book-owner {
    font-family: 'Inter', sans-serif;
    font-size: 12px;
    color: #9A9A9A;
}

.book-owner a {
    color: #00AC66;
    text-decoration: none;
}

.book-owner a:hover {
    text-decoration: underline;
}

/* ==================================================
   BACKGROUND VARIANTS
   ================================================== */

/* Fond clair principal : base visuelle globale des pages */
.site-wrapper.is-light-page {
    background-color: #FDFCF9;
}

.has-light-page {
    background-color: #FDFCF9;
}

/* Fond clair secondaire : mise en valeur douce de sections */
.has-soft-background {
    background-color: #FAF9F7;
}

/* Fond neutre : surface sobre pour blocs ou contenus */
.has-neutral-background {
    background-color: #F5F3EF;
}

/* ==================================================
   COMPONENT – BOOK IMAGE + BADGE
   ================================================== */

/* Wrapper image (cartes + détail) */
.book-card-image {
    position: relative;
    overflow: hidden;
}

/* Badge état livre */
.book-badge {
    position: absolute;
    top: 12px;
    right: 12px;

    padding: 4px 8px;
    font-size: 11px;
    font-weight: 600;
    border-radius: 6px;

    z-index: 2;
    pointer-events: none;
}

/* Livre indisponible */
.book-badge--unavailable {
    background-color: #E54848;
    color: #FFFFFF;
}

/* ==================================================
   COMPONENT – BUTTONS
   ================================================== */
/* Base bouton (commune) */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 0 24px; /* largeur flexible par défaut */
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 500;
    text-decoration: none;
    border-radius: 10px;
    transition: background-color 0.2s ease, color 0.2s ease;
}

/* Modificateurs largeur */
.btn--sm { width: 140px; }
.btn--md { width: 180px; }
.btn--lg { width: 220px; }
.btn--full { width: 100%; }

/* Bouton principal */
.btn-primary {
    background-color: #00AC66;
    color: #ffffff;
}

.btn-primary:hover,
.btn-primary:focus-visible {
    background-color: #006D41;
}

.btn-primary:focus-visible {
    outline: 2px solid #006D41;
    outline-offset: 3px;
}

/* Bouton outline */
.btn-outline {
    border: 1px solid #00AC66;
    color: #00AC66;
    background-color: #F5F3EF;
}

.btn-outline:hover,
.btn-outline:focus-visible {
    background-color: #006D41;
    color: #ffffff;
}

/* ==================================================
   AVATAR
   ================================================== */

/* Avatar générique */
.avatar {
    display: block;
    border-radius: 50%;
    object-fit: cover;
    background-color: #eaeaea; /* fallback image lente/manquante */
}

/* Avatar taille standard (48x48) */
.avatar--md {
    width: 48px;
    height: 48px;
}

/* Ajustement visuel portrait (visage légèrement plus bas) */
.avatar--portrait {
    object-position: 65% 33%;
}

/* ==================================================
   FORM GROUPS (GENERIC)
   ================================================== */

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-size: 14px;
    color: #6B6B6B;
}

.form-group input[type="text"],
.form-group input[type="email"],
.form-group input[type="password"] {
    height: 56px;
    padding: 0 16px;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.1);
    font-size: 15px;
    background-color: #FFFFFF;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

/* Focus normal */
.form-group input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(0, 172, 102, 0.15);
}

/* ==================================================
   PASSWORD TOGGLE
   ================================================== */

.form-group .password-field {
    position: relative;
}

/* Laisse de la place au bouton oeil */
.form-group .password-field > input[type="password"],
.form-group .password-field > input[type="text"] {
    padding-right: 48px;
}

.password-toggle {
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);

    width: 32px;
    height: 32px;

    display: none; /* visible uniquement si input non vide via JS */
    align-items: center;
    justify-content: center;

    background: transparent;
    border: 0;
    border-radius: 8px;

    cursor: pointer;
    color: #6B6B6B;
}

.password-toggle:focus-visible {
    outline: 2px solid rgba(0, 172, 102, 0.35);
    outline-offset: 2px;
}

.password-toggle.is-visible {
    display: inline-flex;
}

/* Petit style icône (sans dépendance) */
.password-toggle .eye {
    width: 18px;
    height: 18px;
    display: block;
    line-height: 1;
    font-size: 18px;
}

.password-field {
    width: 100%;
}

.password-field > input {
    width: 100%;
}

/* ==================================================
   LIBRARY (COMMON)
   ================================================== */

.library-card {
    background: #ffffff;
    border-radius: 24px;
    padding: 24px;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.06);
}

.library-head,
.library-row {
    display: grid;
    align-items: center;
    column-gap: 24px;
}

.library-head {
    font-size: 11px;
    letter-spacing: 0.12em;
    font-weight: 700;
    color: #6B6B6B;
    padding: 12px 16px;
    border-bottom: 1px solid rgba(0,0,0,0.06);
}

.library-row {
    padding: 22px 16px;
    border-radius: 18px;
}

.library-row:nth-child(even) {
    background: #F3F6F8; /* alternance légère */
}

.col-photo img {
    width: 78px;
    height: 78px;
    border-radius: 12px;
    object-fit: cover;
    display: block;
}

.col-title a {
    font-size: 12px;
    font-weight: 500;
    color: #1C1C1C;
    text-decoration: none;
}

.col-title a:hover {
    text-decoration: underline;
}

.col-author {
    font-size: 12px;
    color: #6B6B6B;
}

.col-description {
    font-size: 12px;
    font-style: italic;
    color: #2C2C2C;
}

.library-empty {
    padding: 24px 16px;
    color: #6B6B6B;
}

/* ==================================================
   PAGE NOTICE (pages sans conteneur dédié)
   ================================================== */
.page-notices {
    /* width: 100%; */
    width: fit-content;
    max-width: 720px;
    margin: 8px auto;    
}

.page-notices:not(:has(.alert)) {
    display: none;
}

/* ==================================================
   GLOBAL ALERTS
   ================================================== */

.alert {
    position: relative;
    padding: 16px 20px;
    border-radius: 12px;
    font-size: 14px;
    line-height: 1.5;
    /* margin-bottom: 32px; */
}

.alert-content {
    padding-right: 32px; /* réserve l’espace pour la croix */
}

/* Bouton croix */
.alert-close {
    position: absolute;
    top: 12px;
    right: 12px;
    background: none;
    border: none;
    padding: 4px;
    font-size: 18px;
    line-height: 1;
    color: currentColor;
    cursor: pointer;
    opacity: 0.6;
}

/* Hover / focus discret */
.alert-close:hover,
.alert-close:focus-visible {
    opacity: 1;
}

/* Focus clavier visible */
.alert-close:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
}

.alert-error {
    color: #D64545;
    background-color: #FFF6F6;
    border: 1px solid rgba(214, 69, 69, 0.3);
}

.alert-success {
    color: #2E7D32;
    background-color: #F0FAF3;
    border: 1px solid rgba(46, 125, 50, 0.3);
}

.alert ul {
    margin: 0;
    padding-left: 18px;
}

.alert li {
    margin: 0;
}

/* ==================================================
   INLINE FORM ERRORS
   ================================================== */

.form-group--error input {
    border-color: #D64545;
    background-color: #FFF6F6;
    box-shadow: 0 0 0 1px rgba(217, 45, 32, 0.15);
}

.form-group--error input:focus {
    border-color: #D64545;
    box-shadow: 0 0 0 2px rgba(214, 69, 69, 0.2);
}

.form-error {
    font-size: 13px;
    color: #D64545;
    line-height: 1.4;
}

/* ==================================================
   MODAL CONFIRMATION
   ================================================== */

.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.modal-overlay.is-open {
    display: flex;
}

.modal-card {
    background: #ffffff;
    border-radius: 16px;
    padding: 24px;
    width: 100%;
    max-width: 420px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
    text-align: center;
}

.modal-title {
    margin-bottom: 12px;
    font-size: 20px;
}

.modal-text {
    margin-bottom: 24px;
    color: #555;
    line-height: 1.5;
}

.modal-actions {
    display: flex;
    gap: 12px;
    justify-content: center;
}

#confirm-modal .btn {
    padding: 10px 18px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 14px;
}

#confirm-modal .btn-secondary {
    background: #e6ecef;
    border: none;
}

#confirm-modal .btn-danger {
    background: #d64545;
    color: #fff;
    border: none;
}

/* ==================================================
   ENVIRONMENT BADGE (DEV)
   ================================================== */

.header-left {
    position: relative; /* ancrage */
}

.env-badge {
    position: absolute;
    left: -50px;
    top: 50%;
    transform: translateY(-50%);

    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;

    color: rgba(41, 41, 41, 0.35);
    border: 1px dashed rgba(41, 41, 41, 0.25);
    border-radius: 6px;
    padding: 4px 6px;

    user-select: none;
    pointer-events: none;
}

/* ==================================================
   RESPONSIVE
   ================================================== */
/* ==================================================
   LIBRARY – RESPONSIVE (≤ 1400px)
   ================================================== */

@media (max-width: 1400px) {

    /* Masque l'entête desktop */
    .account-page .library-head,
    .user-public  .library-head  {
        display: none;
    }

    /* Carte mobile */
    .account-page .library-row,
    .user-public .library-row {
        grid-template-columns: 84px 1fr;
        grid-template-areas:
            "photo title"
            "photo author"
            "desc  desc"
            "status status"
            "actions actions";
        row-gap: 8px;
        column-gap: 16px;
        padding: 20px;
        border: 1px solid rgba(0,0,0,0.06);
        border-radius: 24px;
        margin-bottom: 16px;
    }

    /* Zones communes */
    .account-page .col-photo,
    .user-public .col-photo { 
        grid-area: photo; 
    }
    
    .account-page .col-title,
    .user-public .col-title { 
        grid-area: title; 
    }
    
    .account-page .col-author,
    .user-public .col-author { 
        grid-area: author; 
    }

    .account-page .col-description,
    .user-public .col-description {
        grid-area: desc;
        font-style: italic;
        color: #2C2C2C;
    }

    /* Zones spécifiques ACCOUNT (si présentes) */
    .account-page .col-status {
        grid-area: status;
        margin-top: 8px;
    }

    .account-page .col-actions {
        grid-area: actions;
        margin-top: 8px;
    }
}

/* ==================================================
   RESPONSIVE – BOOK CARD (COMMUN HOME / BOOKS)
   ================================================== */

@media (max-width: 1023px) {
    .book-card {
        max-width: 180px;
    }

    .book-card-body {
        padding: 14px;
    }
}

@media (max-width: 768px) {
    /* ===============================
        TITRES DE PAGE
        =============================== */
    /* h1 */    
    .page-title {
        font-size: 30px;
    }

    /* ===============================
        TITRES – SECTIONS
        =============================== */
    /* h2 */
    .section-title {
        font-size: 28px;
    }

    /* h2 - plus petit */
    .section-title--small {
        font-size: 12px;
    }    

    /* ===============================
        BOOK
        =============================== */    
    .book-card {
        max-width: 160px;
    }

    .book-card-body {
        padding: 12px;
    }

    .book-card-body h3 {
        font-size: 12.5px;
    }

    .book-author {
        font-size: 11.5px;
        margin-bottom: 8px;
    }

    .book-owner {
        font-size: 11px;
    }

    /* ==================================================
       PAGE ALERTS (pages sans conteneur dédié)
       ================================================== */    
    .page-alerts {
        margin: 16px auto 24px;
        padding: 0 16px;
    }
}

@media (max-width: 610px) {
    .book-card {
        max-width: 150px;
    }
}

@media (max-width: 385px) {
    .book-card {
        max-width: 220px;
    }   
}

